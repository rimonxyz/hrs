<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="fragments/head"></div>
</head>
<body>

<!--navigation-->
<div th:include="fragments/navigation"></div>

<!--welcome-->
<div class="contact" id="contact">
    <div class="container">
        <h3 class="title wow fadeInDown animated" data-wow-delay=".5s">All categories</h3>
        <h3 class="right wow fadeInDown animated" data-wow-delay=".5s">
            <a th:href="@{/admin/categories/create}">Create New</a>
        </h3>
        <div class="contact-form contact-list">
            <p class="wow slideInDown animated" data-wow-delay=".5s">
                <b th:if="${param.message!=null}">
                    => <span style="color: red;" th:text="${param.message[0]}"></span>
                </b>
            </p>
            <table class="table table-hover panel panel-primary">
                <thead class="panel-heading">
                <tr>
                    <td><h4 class="thead">ID</h4></td>
                    <td><h4 class="thead">Name</h4></td>
                    <td><h4 class="thead">Edit</h4></td>
                    <td><h4 class="thead">Delete</h4></td>
                </tr>
                </thead>
                <tbody class="panel-body">
                <tr th:if="${categoryList != null}" th:each="category:${categoryList}">

                    <td><h4><span th:text="${category?.id}"></span></h4></td>
                    <td>
                        <h4><span th:text="${category?.name}"></span></h4><br/><br/>
                        <div class="col-sm-12">
                        <h6 class="col-sm-6">Max Child : </h6><h6 class="col-sm-6" th:text="${category?.maxChildNumber}"></h6>
                        <h6 class="col-sm-6">Max Child : </h6><h6 class="col-sm-6" th:text="${category?.maxAdultNumber}"></h6>
                        <h6 class="col-sm-6">Front Face? :</h6><h6 class="col-sm-6" th:text="${category?.facilities?.frontFace} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">With Corridor? : </h6> <h6 class="col-sm-6" th:text="${category?.facilities?.withCorridor} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">Free Breakfast : </h6><h6 class="col-sm-6" th:text="${category?.facilities?.breakfast} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">Free Wifi : </h6><h6 class="col-sm-6" th:text="${category?.facilities?.internet} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">Air Conditioned? : </h6><h6 class="col-sm-6" th:text="${category?.facilities?.airConditioned} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">TV : </h6><h6 class="col-sm-6" th:text="${category?.facilities?.tv} ? 'Yes' : 'No'"></h6><br/>
                        <h6 class="col-sm-6">Geyser : </h6><h6 class="col-sm-6" th:text="${category?.facilities?.geyser} ? 'Yes' : 'No'"></h6>
                        </div>
                    </td>
                    <td><a class="btn btn-primary" th:href="@{/admin/categories/edit/}+${category?.id}">Edit</a></td>
                    <td>
                        <button type="button" class="btn btn-danger" data-toggle="modal" id="delButtton"
                                data-target="#deleteCategoryModal" th:attr="data-cat-id=${category?.id}">Delete
                        </button>
                    </td>

                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!--modal-->

<!-- Modal -->
<div id="deleteCategoryModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Delete Category</h4>
            </div>
            <div class="modal-body">
                <p>If you delete this category you need to assign rooms of this category to another category.</p>
                <form class="form" th:action="@{/admin/categories/delete}" method="post">
                    <select name="newCatId" id="catSelect" class="form-control clearfix" th:if="${categoryList != null}">
                        <option th:each="category:${categoryList}" th:text="${category?.name}"
                                th:value="${category?.id}"></option>
                    </select>
                    <input name="delCatId" type="hidden" id="delCatId"></input>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-danger">Assign Rooms and Delete Category</button>
                    </div>
                </form>
            </div>
        </div>

    </div>
</div>

<script>
    $(document).on("click", "#delButtton", function () {
        var catId = $(this).data('cat-id');
        $("#delCatId").val(catId);
        // As pointed out in comments,
        // it is superfluous to have to manually call the modal.
        // $('#addBookDialog').modal('show');
    });
</script>
<!--//modal-->

<!--footer-->
<div th:include="fragments/footer"></div>
<!--//footer-->
<script th:src="@{/js/lightbox-plus-jquery.min.js}"></script>
<script th:src="@{/js/easyResponsiveTabs.js}" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#horizontalTab').easyResponsiveTabs({
            type: 'default', //Types: default, vertical, accordion
            width: 'auto', //auto or any width like 600px
            fit: true   // 100% fit in a container
        });
    });
</script>
<!--script-->
<!--responsive slider-->
<script th:src="@{/js/responsiveslides.min.js}"></script>
<!--//responsive slider-->
<!-- start-smooth-scrolling-->
<script type="text/javascript" th:src="@{/js/move-top.js}"></script>
<script type="text/javascript" th:src="@{/js/easing.js}"></script>
<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $(".scroll").click(function (event) {
            event.preventDefault();
            $('html,body').animate({scrollTop: $(this.hash).offset().top}, 1000);
        });
    });
</script>
<!--//end-smooth-scrolling-->
<!--bar-js-->
<script th:src="@{/js/bars.js}"></script>
<!--bar-js-->
<!--animate-->
<script th:src="@{/js/wow.min.js}"></script>
<script>
    new WOW().init();
</script>
<!--//end-animate-->
<!--smooth-scrolling-of-move-up-->
<script type="text/javascript">
    $(document).ready(function () {

        var defaults = {
            containerID: 'toTop', // fading element id
            containerHoverID: 'toTopHover', // fading element hover id
            scrollSpeed: 1200,
            easingType: 'linear'
        };

        $().UItoTop({easingType: 'easeOutQuart'});

    });
</script>
<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
<!--//smooth-scrolling-of-move-up-->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script th:src="@{/js/bootstrap.js}"></script>

<script>
    // You can also use "$(window).load(function() {"
    $(function () {
        // Slideshow 3
        $("#slider3").responsiveSlides({
            auto: true,
            pager: false,
            nav: true,
            speed: 500,
            namespace: "callbacks",
            before: function () {
                $('.events').append("<li>before event fired.</li>");
            },
            after: function () {
                $('.events').append("<li>after event fired.</li>");
            }
        });

    });
</script>
</body>
</html>